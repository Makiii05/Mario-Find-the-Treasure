<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find The Treasure</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="main.js" defer></script>
    <link rel="icon" href="data:,">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous" defer></script>
</head>
<body class="d-flex align-items-center" style="font-family: 'Pixelify Sans'; font-optical-sizing: auto;">
    <div class="overlay"></div>
    <div id="find-the-treasure" class="bg-black text-light d-flex flex-column align-items-center justify-content-center position-absolute w-100 h-100">
        <img src="images/title.gif" class="w-75" alt="">
        <p class="fw-bolder mb-4 fs-6">Press spacebar to start the game!</p>
    </div>
    <div class="row w-100 m-0">
        <div class="col-md-6">
            <img src="images/title.gif" alt="title" class="w-100">
        </div>
        <div class="col-md-6">
            <div class="w-auto h-100 p-3" id="main-con">
                <!-- RUNNING -->
                <div class="d-flex flex-column align-items-center justify-content-center d-none" id="running-con">
                    <div class="d-flex justify-content-between w-100">
                        <p>âŒ›<span id="time">10s</span></p>
                        <p>ğŸŒŸ<span id="score">0</span>XP</p>
                        <p>ğŸ“<span id="round">1</span></p>
                        <p>ğŸ‘†<span id="selection">0</span></p>
                        <p>ğŸ’–<span id="life">0</span></p>
                    </div>
                    <div class="row row-cols-4 d-flex justify-content-center" id="grid">
                    </div>
                </div>

                <!-- MENU -->
                <div class="d-flex flex-column align-items-center gap-3 my-5" id="menu">
                    <input class="form-control w-50 text-center border-0 bg-light fw-bolder" type="text" id="name-input" placeholder="Enter your name" maxlength="12">
                    <button class="theme-btn border-radius w-50 fw-bolder" id="start-btn">START GAME</button>
                    <button class="theme-btn border-radius w-50 fw-bolder" id="instruction-btn">INSTRUCTION</button>
                    <button class="theme-btn border-radius w-50 fw-bolder" id="leaderboard-btn">LEADERBOARD</button>
                </div>

            </div>
        </div>
    </div>

    <div class="position-absolute bg-dark bg-opacity-75 w-100 h-100 d-flex justify-content-center align-items-center d-none" id="modal-con">
        <div class="game-container w-25">
            <!-- GAME OVER -->
            <div class="bg-dark bg-opacity-75 d-flex flex-column align-items-center gap-1 py-5 d-none" id="game-over">
                <h2 class="fw-bolder text-warning">GAME OVER</h2>
                <p class="fw-bolder">ğŸ“<span id="final-round">0</span> Rounds</p>
                <p class="fw-bolder">ğŸŒŸ<span id="final-score">0</span>XP</p>
                <button class="theme-btn border-radius w-50 fw-bolder" id="restart-btn">RESTART</button>
            </div>
            <!-- NEXT ROUND -->
            <div class="bg-dark bg-opacity-75 d-flex flex-column align-items-center gap-1 py-5 d-none" id="next-round">
                <h2 class="fw-bolder text-warning">NEXT ROUND</h2>
                <p class="fw-bolder">ğŸ“<span id="current-round">0</span> Rounds</p>
                <p class="fw-bolder">ğŸŒŸ<span id="current-score">0</span>XP</p>
                <p class="fw-bolder">ğŸ’–<span id="current-life">0</span> Lives</p>
                <button class="theme-btn w-50 fw-bolder" id="next-round-btn">PROCEED</button>
            </div>
            <!-- RETRY  -->
            <div class="bg-dark bg-opacity-75 d-flex flex-column align-items-center gap-1 py-5 d-none" id="retry-round-con">
                <h2 class="fw-bolder text-warning">NICE TRY</h2>
                <p class="fw-bolder">ğŸ“<span id="retry-round">0</span> Rounds</p>
                <p class="fw-bolder">ğŸŒŸ<span id="retry-score">0</span>XP</p>
                <p class="fw-bolder">ğŸ’–<span id="retry-life">0</span> Lives</p>
                <button class="theme-btn w-50 fw-bolder" id="retry-round-btn">RETRY</button>
            </div>
            <!-- INSTRUCTION -->
            <div class="bg-dark bg-opacity-75 d-none text-warning" id="instruction-con">
            <div class="d-flex align-items-center">
                <h2 class="fw-bolder p-2 text-warning">ğŸ“œ How to Play: Find the Treasure</h2>
                <span class="ms-auto mx-2 fs-4 btn text-light" type="button" id="close-instruction">&times;</span>
            </div>

            <!-- Scrollable content -->
            <div class="border-top p-3 text-light instruction-content">
                <h5 class="fw-bolder">ğŸ® Game Objective</h5>
                <p>
                    Your goal is to <b>find hidden treasures</b> inside mystery boxes before time runs out.
                    Each treasure earns you <b>XP</b>. Advance through worlds and score as high as possible!
                </p>

                <h5 class="fw-bolder mt-3">ğŸ•¹ï¸ Controls</h5>
                <ul>
                    <li><b>Click</b> on a box to reveal whatâ€™s inside.</li>
                    <li>The number of clicks you can make per round is shown beside the hand icon (ğŸ‘†).</li>
                    <li>Press the <b>Spacebar</b> to start the game quickly.</li>
                </ul>

                <h5 class="fw-bolder mt-3">â³ Game Rules</h5>
                <ul>
                    <li><b>Timer (âŒ›):</b> Each round has a limited time. When it reaches 0, the round ends.</li>
                    <li><b>Selections:</b> You can only click a limited number of boxes per round.</li>
                    <li><b>Lives (ğŸ’–):</b> Start with 2 lives. Lose 1 life for wrong guesses or timeouts. Collect <b>1UP</b> boxes to regain a life.</li>
                    <li><b>Scoring (ğŸŒŸ XP):</b> 
                        <ul>
                        <li>Treasure = +100 XP Ã— Combo Multiplier</li>
                        <li>Bonus XP Box = +500 XP</li>
                        <li>Combo Multiplier increases with consecutive correct treasures!</li>
                        </ul>
                    </li>
                </ul>

                <h5 class="fw-bolder mt-3">ğŸ¯ Bonus Round</h5>
                <p>
                    Every few worlds, a <b>Bonus Round</b> appears! During it:
                </p>
                <ul>
                    <li>You have <b>10 seconds</b> to earn as much XP as possible.</li>
                    <li>No click limits â€” tap as fast as you can!</li>
                    <li>Coins give XP instantly, and combos keep your momentum.</li>
                    <li>Background turns gold to indicate bonus mode.</li>
                </ul>

                <h5 class="fw-bolder mt-3">ğŸŒ Worlds & Difficulty</h5>
                <ul>
                    <li><b>World 1 (Rounds 1â€“4):</b> 3x3 grid, 2 treasures, 2 selections, 10s timer.</li>
                    <li><b>World 2 (Rounds 5â€“9):</b> 4x4 grid, 3 treasures, 3 selections, 15s timer.</li>
                    <li><b>World 3 (Rounds 10+):</b> 5x5 grid, 4 treasures, 4 selections, 18s timer.</li>
                </ul>

                <h5 class="fw-bolder mt-3">ğŸ… Leaderboard</h5>
                <p>
                    When the game ends, your <b>name</b>, <b>round</b>, and <b>XP</b> are saved locally.
                    Only your best score per name is recorded.
                </p>

                <h5 class="fw-bolder mt-3">ğŸš¨ End of Game</h5>
                <p>
                    The game ends when you lose all lives. Your final stats are shown with options to retry or restart.
                    Try to reach further worlds and higher combos for massive XP gains!
                </p>
            </div>
            </div>

            <!-- LEADERBOARD -->
            <div class="bg-dark bg-opacity-75 d-none " id="leaderboard-con">
                <div class="d-flex">
                    <h2 class="fw-bolder p-2 text-warning">LEADERBOARD</h2>
                    <span class="ms-auto mx-2 fs-4 btn text-light" type="button" id="close-leaderboard">&times;</span>
                </div>
                <div id="leaderboard-entries" class="border-top p-3">
                </div>
                <div class="d-flex fw-bolder shadow-top px-3 pt-3" id="current-user-con">
                    17. <p class="ms-2 text-warning">PlayerName - 0XP</p>
                </div>
            </div>
        </div>
    </div>
    
</body>
</html>